<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>IntroR-7: Matrix Manipulation</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="icon" type="image/png" href="favicon.png">

  <!-- Keep existing site styles -->
  <link rel="stylesheet" type="text/css" href="../style/style.css">
  <link rel="stylesheet" type="text/css" href="../style/title.css">
  <link rel="stylesheet" type="text/css" href="../style/boxes.css">
  <link rel="stylesheet" type="text/css" href="../style/tree.css">
  <link rel="stylesheet" type="text/css" href="../style/footnote.css">

  <!-- (Optional) MathJax -->
  <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
  <script id="MathJax-script" async
          src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js"></script>

  <style>
    :root{
      --fontTitle: Arial Black; --fontBody: Arial Black; --fontBoxH: Arial Black; --fontBox: Arial Black;
      --BGoutside:#FFFBFE; --BGbox1:#58A4B0; --BGfootnoteR:#333333; --fontcolTitle:#24272B; --fontcolBody:white;
      --fontcolBox:#EEF8FF; --fontcolLink:#D1F5FF; --fontcolLinkHover:white; --fontcolLinkActive:#EEF8FF; --fontcolLinkVisited:#8FE388;
      --fsizeTitleH1:40px; --fsizeTitleH2:20px; --fsizeTitle:18px; --fsizeBoxH1:25px; --fsizeBox:15px; --opac:.97;
      --fontTriangle:#24272B; --BGopentree:#3BBAAD;
    }
    .bigcontainer { background-image: url("bg-.jpg"); }
    pre, code { font-family: Consolas, Monaco, "Courier New", monospace; }
  </style>
</head>

<body>
  <div class="bigcontainer">
    <div class="container">

      <!-- Title -->
      <div class="titleRone">
        <h1>Matrix Manipulation</h1>
        Department of Mathematics, Applied Mathematics, and Statistics<br>
        Case Western Reserve University
      </div>

      <!-- 1. Creating matrices -->
      <div class="boxONE">
        <h1>1) Creating Matrices</h1>
<pre><code># From a vector (fills by column by default)
A &lt;- matrix(1:6, nrow = 2, ncol = 3)
A

# Fill by row
B &lt;- matrix(1:6, nrow = 2, byrow = TRUE)
B

# Bind columns / rows
c1 &lt;- c(2.0, 2.1, 2.2)
c2 &lt;- c(1.9, 2.0, 2.1)
M  &lt;- cbind(c1, c2)   # 3x2 matrix
M2 &lt;- rbind(c(1,2,3), c(4,5,6))  # 2x3 matrix

# Dimensions and names
dim(M); nrow(M); ncol(M)
rownames(M) &lt;- c("obs1","obs2","obs3")
colnames(M) &lt;- c("trialA","trialB")
M
</code></pre>
      </div>

      <!-- 2. Indexing -->
      <div class="boxONE">
        <h1>2) Indexing and Subsetting</h1>
<pre><code># [row, column]
A[1, 2]        # row 1, col 2
A[ , 2]        # entire column 2 (vector)
A[2, ]         # entire row 2

# Ranges, negatives, logicals
A[1:2, 2:3]
A[-1, ]        # drop first row
A[A &gt; 3]       # elements satisfying condition (vectorized)
</code></pre>
        <p class="fine">Remember: dropping a dimension returns a vector. Use <code>drop = FALSE</code> to keep matrix shape.</p>
      </div>

      <!-- 3. Row/column operations -->
      <div class="boxONE">
        <h1>3) Row/Column Operations</h1>
<pre><code># Sums and means
rowSums(M); colSums(M)
rowMeans(M); colMeans(M)

# General patterns via apply: MARGIN = 1 (rows), 2 (cols)
apply(M, 1, sd)     # row standard deviations
apply(M, 2, quantile, probs = c(.25,.5,.75))
</code></pre>
        <p class="fine">For large data, prefer vectorized functions (<code>rowMeans</code>, <code>colMeans</code>) over <code>apply</code>.</p>
      </div>

      <!-- 4. Element-wise vs matrix algebra -->
      <div class="boxONE">
        <h1>4) Element-wise vs. Matrix Algebra</h1>
<pre><code># Element-wise arithmetic
A + 1
A * 2
A * A          # element-wise product

# Matrix transpose, identity, crossproducts
t(A)
I3 &lt;- diag(3)  # 3x3 identity
crossprod(A)   # t(A) %*% A
tcrossprod(A)  # A %*% t(A)

# Matrix multiplication
C &lt;- matrix(c(1,2,3, 4,5,6), nrow = 3)  # 3x2
D &lt;- matrix(c(1,0, 0,1), nrow = 2)      # 2x2
C %*% D
</code></pre>
        <p class="fine"><code>*</code> is element-wise; <code>%*%</code> is matrix multiplication.</p>
      </div>

      <!-- 5. Linear systems, inverse, determinant -->
      <div class="boxONE">
        <h1>5) Linear Systems, Inverses, Determinants</h1>
<pre><code># Solve A x = b
A2 &lt;- matrix(c(2,1, 1,3), nrow = 2, byrow = TRUE)
b  &lt;- c(1, 2)
x  &lt;- solve(A2, b)   # preferred to computing inverse explicitly
x

# Inverse and determinant
A2_inv &lt;- solve(A2)
det(A2)
all.equal(A2 %*% A2_inv, diag(2))  # check
</code></pre>
        <p class="fine">For numerical stability, use <code>solve(A, b)</code> instead of <code>solve(A) %*% b</code>.</p>
      </div>

      <!-- 6. Course-aligned mini example -->
      <div class="boxONE">
        <h1>6) Mini Example: Machines × Replicates (STAT&nbsp;312/312R)</h1>
        <p>
          Suppose we record thickness (mm) from 3 machines (rows), each with 4 replicates (columns).
          Compute machine means/SDs and the overall mean—typical in early *Engineering Statistics* analysis.
        </p>
<pre><code># 3 machines x 4 replicates (by row)
X &lt;- matrix(c(
  2.01, 2.03, 2.00, 2.02,   # Machine 1
  1.98, 1.99, 2.01, 2.00,   # Machine 2
  2.04, 2.02, 2.03, 2.05    # Machine 3
), nrow = 3, byrow = TRUE)

rownames(X) &lt;- paste0("Machine", 1:3)
colnames(X) &lt;- paste0("Rep", 1:4)

rowMeans(X)                 # per-machine means
apply(X, 1, sd)             # per-machine SDs
overall_mean &lt;- mean(X)     # overall mean
overall_mean
</code></pre>
        <p class="fine">These summaries motivate later topics (e.g., one-way ANOVA, control charts).</p>
      </div>

      <!-- 7. Conversions, binding, reshape -->
      <div class="boxONE">
        <h1>7) Conversions and Reshape</h1>
<pre><code># Data frame to matrix (numeric columns)
DF  &lt;- data.frame(a = 1:3, b = c(2,2,2))
as.matrix(DF)

# Bind new columns/rows
X2  &lt;- cbind(X, Mean = rowMeans(X))
X3  &lt;- rbind(X2, Overall = c(colMeans(X), mean(X)))
X3
</code></pre>
        <p class="fine">Keep types numeric when expecting matrix algebra; character columns will coerce the whole matrix.</p>
      </div>

      <!-- 8. Optional: regression via matrix form -->
      <div class="boxONE">
        <h1>8) Optional: Least Squares in Matrix Form</h1>
        <p>With design matrix \(X\) and response \(y\), the OLS estimate is \(\hat\beta = (X'X)^{-1}X'y\).</p>
<pre><code># Small example: fit y = beta0 + beta1 * x
x &lt;- 1:5
y &lt;- c(2.1, 2.4, 2.5, 2.9, 3.1)

X &lt;- cbind(1, x)               # intercept and x
beta_hat &lt;- solve(t(X) %*% X, t(X) %*% y)
beta_hat

# Compare to lm()
coef(lm(y ~ x))
</code></pre>
        <p class="fine">This connects directly to MATH&nbsp;201 linear algebra and STAT&nbsp;312 regression.</p>
      </div>

      <!-- Navigation -->
      <div class="boxONE">
        <p>
          <a href="index.html">← Back to IntroR</a> &nbsp; | &nbsp;
          <a href="IntroR-6.html">« Previous: Plotting with Base Graphics</a>
        </p>
      </div>

      <!-- Footers -->
      <div class="footnoteL"></div>
      <div class="footnoteR">
        <a href="/">Home</a>
        &nbsp;
        <a href="https://github.com/gonsalgealmeidaTeach/gonsalgealmeidaTeach.github.io/tree/main/projects/R">Git</a>
      </div>

      <div class="clr"></div>
    </div>
  </div>
</body>
</html>
